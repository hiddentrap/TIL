# DataModeling

Modeling = 현상을 목적에 맞게 정제하여 표준화(일반화 및 추상화) 시킴

DataModeling = 데이터를 목적에 맞게 잘 조합하는 것

## 모델링 준비과정

1. 데이터를 3가지 형태로 분류하기

   데이터 생성 주체와 그 대상 그리고 그 둘간의 이동정보를 관리할 수 있으면 설명하는데 부족함이 없다.

   모든 데이터는 3가지 형태로 단순화 가능: 개체집합(주체) - 관계집합(활동) - 개체집합(대상)

2. 오해없이 데이터를 표현하기 위한 표준화 정의

   데이터 표준화: 사람마다 표현하는 방식이 모두 다르기 때문에 하나의 fact를 다르게 인식할 수 있는 오류를 제거하기 위해 표준화가 필요하다.

   예를들면,

   - '구매'와 '구입'이 있다면 '물건을 사는 행위'로 '구입' 하나만 사용하기로 약속	
   - '금액'은 모두 '숫자 10자리 + 소숫점 1자리'까지 표현하기로 약속
   - '판매+가'와 '판매+금액'은 모두 '판매금액'으로 표현하기로 약속
   - 고객의 유형은 개인은 '01', 법인은 '02', 사업자는 '03' 이렇게 3가지 코드로 정의하여 회사의 모든 시스템에 동일하게 표현하기로 약속

## 모형 만들기

### 상황

> "와이프 생일도 깜박하고 겨우 집에 가네요"
>
> 앞자리에 젊은 친구가 꽃 다발을 흔들며 "저는 꽃 한다발이면 되요".
>
> 옆자리 아저씨가 꽃 한송이를 들어 보이며 "나는 이제 한송이면 되지요".
>
> 반대편 할아버지가 포도 한박스를 내려 놓으며... "그런거 사가면 혼나. 먹지도 못하는거 사온다고".

'상품을 고르고 선택하여 값을 치르고 물건을 받는다' -> 고객이 상품을 주문한다.

현상을 정제하고 일반화 및 추상화 한다.

### 데이터 분류

개체집합(주체) : 젋은친구, 아저씨, 할아버지

관계집합(활동: 주문): 샀다, 샀다, 주문했다.

개체집합(대상): 꽃 한다발, 꽃 한송이, 포도 한박스

### 표준화

누가 무엇을 언제 샀다

누가 : 고객 (고객ID PK, 고객명, 고객연락처)

무엇을 : 상품 (상품ID PK, 상품명, 상품가격)

action (언제-시간의 흐름 필요) : 주문 (고객ID FK, 상품ID FK, 주문일시 PK, 주문수량, 결제방법)



action의 **주체**와 action의 **대상**이 만나 **action**을 한다.

**주체**와 **대상**은 **약속**이라는 관계를 맺고 약속은 **약속내용**의 **이행결과**로 확정된다.

보통 우리는 **약속**의 업무적 표현을 **계약**이라 부른다.

계약 : '주문'행위와 '주문 내용을 정의/확정'

주체 - (대상) - 계약 - (이행) - 결과: 주체는 대상을 가지고 계약을 맺고, 계약은 이행을 통해 다양한 결과를 만든다.

인터넷 쇼핑 - 고객은 상품을 주문하고 결재 후 배송을 받는다.

통신 - 고객은 요금제 약정으로 통신에 가입하고 다달이 청구서를 받아 대금을 결제한다.

은행 - 고객은 예금가입으로 계좌를 만들고 입금/출금을 한다.

보험 - 고객은 보험 상품을 계약하고 보험료를 납입하다 필요시 보상청구를 한다.

| 비지니스    | 주체 | 대상     | 계약    | 이행  | 결과  |
| ----------- | ---- | -------- | ------- | ----- | ----- |
| 인터넷 쇼핑 | 고객 | 상품     | 주문    | 결재  | 배송  |
| 통신        | 고객 | 요금제   | 가입    | 청구  | 입금  |
| 은행        | 고객 | 예금     | 계좌    | 입금  | 출금  |
| 보험        | 고객 | 상해보험 | 가입    | 납입  | 만기  |
| 기타        | WHO  | WHAT     | DO, HOW | DONE1 | DONEn |

Who(Customer) ->

​									[ Do(Order) -> How(Agreement) ] -> Done(Transaction)

What(Product)   ->

Customer : 행위의 주체, 고객, 회원, 소비자, 단골

Product : 행위의 목적물, 상품, 생산물, 제품, 물건, 결과물

Order : 주체와 목적물 관계의 구체성 지시, 오더, 주문하다

Agreement : 오더 내용 정의, 계약, 가입

Transaction : 계약 이행 결과, 거래, 업무

즉, Customer는 본인이 원하는 서비스를 제공하는 Product 제공업체와 관계를 맺기 위해 Order를 진행하여 Agreement 확정에 따른 서비스를 받은 후 그 결과를 Transaction에 따라 대가를 지불한다.

|            | 접촉 | 청약 | 심사 | 주문 | 완료 | 계약 |
| ---------- | ---- | ---- | ---- | ---- | ---- | ---- |
| 보험       | Y    | Y    | Y    |      |      | Y    |
| 인터넷쇼핑 |      |      |      | Y    | Y    |      |
| 유선인터넷 | y    |      | y    | Y    | Y    | Y    |
| 무선통신   | y    |      | y    | y    |      | Y    |

소문자 y는 옵션 또는 다른 업무에 합쳐질 가능성이 높음

ex 인터넷 쇼핑

완료 : 결제 

계약 : 주문 + 결제 로서 계약체결

후속 업무: 배송, 정산

'업무의 기본형'을 만들려면 추가적으로 Who(회원)와 What(상품)이 필요함